(this.webpackJsonpprojeto_09_cineflex=this.webpackJsonpprojeto_09_cineflex||[]).push([[0],{33:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},60:function(e,t,s){},61:function(e,t,s){},62:function(e,t,s){},63:function(e,t,s){},64:function(e,t,s){},65:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s(26),i=s.n(a),n=s(7),r=(s(33),s(34),s(35),s(4)),o=s(10),l=s(0);function d(e){var t=e.img,s=e.id,c=e.title,a=e.ticketOrder,i=e.setTicketOrder;return Object(l.jsx)(o.b,{to:"/sessoes/".concat(s),children:Object(l.jsx)("div",{className:"movie",onClick:function(){return i(Object(r.a)(Object(r.a)({},a),{},{title:c}))},children:Object(l.jsx)("img",{src:t,alt:""})})})}var j=s(11),b=s.n(j);function m(e){var t=e.ticketOrder,s=e.setTicketOrder,a=Object(c.useState)([]),i=Object(n.a)(a,2),r=i[0],o=i[1];return Object(c.useEffect)((function(){b.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v3/cineflex/movies").then((function(e){o(e.data)}))}),[]),Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)("div",{className:"page-title",children:"Selecione o filme"}),Object(l.jsx)("div",{className:"movies",children:r.map((function(e){return Object(l.jsx)(d,{img:e.posterURL,id:e.id,ticketOrder:t,setTicketOrder:s,title:e.title},e.id)}))})]})}s(60);function O(){return Object(l.jsx)("div",{className:"top-bar",children:"CINEFLEX"})}function u(e){var t=e.weekday,s=e.date,c=e.showtimes,a=e.ticketOrder,i=e.setTicketOrder;return Object(l.jsxs)("div",{className:"movie-day",children:[Object(l.jsxs)("div",{className:"day",children:[t," - ",s]}),Object(l.jsx)("div",{className:"times",children:c.map((function(e){return Object(l.jsx)(p,{time:e.name,id:e.id,date:s,ticketOrder:a,setTicketOrder:i},e.id)}))})]})}function p(e){var t=e.time,s=e.id,c=e.date,a=e.ticketOrder,i=e.setTicketOrder;return Object(l.jsx)(o.b,{to:"/assentos/".concat(s),className:"link",children:Object(l.jsx)("div",{className:"time",onClick:function(){return i(Object(r.a)(Object(r.a)({},a),{},{date:c,time:t}))},children:t})})}s(61);function v(e){var t=e.img,s=e.title,c=e.session;return Object(l.jsxs)("div",{className:"bottom",children:[Object(l.jsx)("div",{className:"movie-bottom",children:Object(l.jsx)("img",{src:t,alt:""})}),Object(l.jsxs)("div",{className:"movie-information",children:[Object(l.jsx)("span",{children:s}),Object(l.jsx)("span",{children:c})]})]})}s(62);var x=s(2);function h(e){var t=e.ticketOrder,s=e.setTicketOrder,a=Object(c.useState)({days:[]}),i=Object(n.a)(a,2),r=i[0],o=i[1],d=Object(x.f)().idFilme;return Object(c.useEffect)((function(){b.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v3/cineflex/movies/".concat(d,"/showtimes")).then((function(e){o(e.data)}))}),[]),Object(l.jsxs)("div",{className:"sessions-page",children:[Object(l.jsxs)("div",{className:"sessions",children:[Object(l.jsx)("div",{className:"page-title",children:"Selecione o hor\xe1rio"}),r.days.map((function(e){return Object(l.jsx)(u,{weekday:e.weekday,date:e.date,showtimes:e.showtimes,ticketOrder:t,setTicketOrder:s},e.id)}))]}),Object(l.jsx)(v,{title:r.title,img:r.posterURL})]})}s(63);function f(e){var t=e.number,s=e.isAvailable,a=e.seatId,i=e.buyerInfo,r=e.ticketOrder,o=Object(c.useState)(s?"seat available-color":"seat unavailable-color"),d=Object(n.a)(o,2),j=d[0],b=d[1];return Object(l.jsx)("div",{className:j,onClick:function(){s?"seat available-color"===j?(b("seat selected-color"),i.ids.push(a),r.seatNumbers.push(t)):(b("seat available-color"),i.ids=i.ids.filter((function(e){return e!==a})),r.seatNumbers=r.seatNumbers.filter((function(e){return e!==t}))):alert("Esse assento n\xe3o est\xe1 dispon\xedvel")},children:t.padStart(2,"0")})}function N(e){var t=e.ticketOrder,s=e.setTicketOrder,a=Object(c.useState)({movie:{title:"",posterURL:""},day:{weekday:","},seats:[],name:""}),i=Object(n.a)(a,2),d=i[0],j=i[1],m=Object(x.f)().idSessao,O=Object(c.useState)({ids:[],name:"",cpf:""}),u=Object(n.a)(O,2),p=u[0],h=u[1],N=Object(c.useState)(["name-input","error-message hidden"]),k=Object(n.a)(N,2),g=k[0],y=k[1],S=Object(c.useState)(["cpf-input","error-message hidden"]),w=Object(n.a)(S,2),T=w[0],C=w[1];function X(e){"name-input"===e.target.className?(h(Object(r.a)(Object(r.a)({},p),{},{name:e.target.value})),s(Object(r.a)(Object(r.a)({},t),{},{name:e.target.value}))):(h(Object(r.a)(Object(r.a)({},p),{},{cpf:e.target.value})),s(Object(r.a)(Object(r.a)({},t),{},{cpf:e.target.value})))}function F(){return""!==p.name}function I(){return/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/.test(p.cpf)}function E(){return p.ids.length}return Object(c.useEffect)((function(){b.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v3/cineflex/showtimes/".concat(m,"/seats")).then((function(e){j(e.data)}))}),[]),Object(l.jsxs)("div",{className:"reservation-page",children:[Object(l.jsxs)("div",{className:"reservation",children:[Object(l.jsx)("div",{className:"page-title",children:"Selecione o(s) assento(s)"}),Object(l.jsx)("div",{className:"seats",children:d.seats.map((function(e){return Object(l.jsx)(f,{number:e.name,isAvailable:e.isAvailable,seatId:e.id,buyerInfo:p,ticketOrder:t},e.id)}))}),Object(l.jsxs)("div",{className:"seats-subtitle",children:[Object(l.jsxs)("div",{className:"selected",children:[Object(l.jsx)("div",{className:"selected-color color"}),"Selecionado"]}),Object(l.jsxs)("div",{className:"available",children:[Object(l.jsx)("div",{className:"available-color color"}),"Dispon\xedvel"]}),Object(l.jsxs)("div",{className:"unavailable",children:[Object(l.jsx)("div",{className:"unavailable-color color"}),"Indispon\xedvel"]})]}),Object(l.jsxs)("div",{className:"information",children:[Object(l.jsxs)("div",{className:"name",children:[Object(l.jsx)("span",{className:"name-span",children:"Nome do comprador: "}),Object(l.jsx)("input",{className:g[0],type:"text",placeholder:"Digite seu nome...",onChange:function(e){return X(e)},value:p.name}),Object(l.jsx)("span",{className:g[1],children:"Digite um nome v\xe1lido"})]}),Object(l.jsxs)("div",{className:"cpf",children:[Object(l.jsx)("span",{className:"cpf-span",children:"CPF do comprador: "}),Object(l.jsx)("input",{className:T[0],type:"text",placeholder:"Digite seu CPF...",onChange:function(e){return X(e)},value:p.cpf}),Object(l.jsx)("span",{className:T[1],children:"Digite o CPF no formato XXX.XXX.XXX-XX"})]})]}),Object(l.jsx)(o.b,{to:"/sucesso",children:Object(l.jsx)("button",{className:"reserve-seat",onClick:function(e){I()&&F()&&E()?b.a.post("https://mock-api.bootcamp.respondeai.com.br/api/v3/cineflex/seats/book-many",p):e.preventDefault(),F()||y(["name-input wrong","error-message"]),I()||C(["cpf-input wrong","error-message"]),E()||alert("Selecione pelo menos um assento")},children:"Reservar assento(s)"})})]}),Object(l.jsx)(v,{title:d.movie.title,img:d.movie.posterURL,session:"".concat(d.day.weekday," - ").concat(d.name)})]})}s(64);function k(e){var t=e.ticketOrder,s=e.setTicketOrder,c=t.title,a=t.date,i=t.time,n=t.seatNumbers,r=t.name,d=t.cpf;return Object(l.jsxs)("div",{className:"success",children:[Object(l.jsxs)("div",{className:"page-title",children:["Pedido feito ",Object(l.jsx)("br",{})," com sucesso!"]}),Object(l.jsxs)("div",{className:"movie-and-session",children:[Object(l.jsx)("p",{children:"Filme e sess\xe3o"}),Object(l.jsx)("p",{children:c}),Object(l.jsxs)("p",{children:[a," ",i]})]}),Object(l.jsxs)("div",{className:"tickets",children:[Object(l.jsx)("p",{children:"Ingressos"}),n.map((function(e,t){return Object(l.jsxs)("p",{children:["Assento ",e]},t)}))]}),Object(l.jsxs)("div",{className:"buyer",children:[Object(l.jsx)("p",{children:"Comprador"}),Object(l.jsxs)("p",{children:["Nome: ",r]}),Object(l.jsxs)("p",{children:["CPF: ",d]})]}),Object(l.jsx)(o.b,{to:"/",children:Object(l.jsx)("button",{className:"return-to-home",onClick:function(){s({title:"",date:"",time:"",seatNumbers:[],name:"",cpf:""})},children:"Voltar para Home"})})]})}var g=function(){var e=Object(c.useState)({title:"",date:"",time:"",seatNumbers:[],name:"",cpf:""}),t=Object(n.a)(e,2),s=t[0],a=t[1];return Object(l.jsxs)(o.a,{children:[Object(l.jsx)(O,{}),Object(l.jsxs)(x.c,{children:[Object(l.jsx)(x.a,{path:"/",exact:!0,children:Object(l.jsx)(m,{ticketOrder:s,setTicketOrder:a})}),Object(l.jsx)(x.a,{path:"/sessoes/:idFilme",exact:!0,children:Object(l.jsx)(h,{ticketOrder:s,setTicketOrder:a})}),Object(l.jsx)(x.a,{path:"/assentos/:idSessao",exact:!0,children:Object(l.jsx)(N,{ticketOrder:s,setTicketOrder:a})}),Object(l.jsx)(x.a,{path:"/sucesso",exact:!0,children:Object(l.jsx)(k,{ticketOrder:s,setTicketOrder:a})})]})]})};i.a.render(Object(l.jsx)(g,{}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.b0a5b036.chunk.js.map